<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Criar Conta</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body class="ispi-1">
    <div class="ispi-container">
        <h2>Criar Conta</h2>
		<!-- Exibe o erro se houver -->
		<p th:if="${erro}" style="color:red;" th:text="${erro}"></p>
		<!-- Exibe de sucesso se houver -->
		<p th:if="${sucesso}" style="color:blue;" th:text="${sucesso}"></p>
				
        <form method="POST" th:action="@{/criar-conta}" onsubmit="return verificarSenhas();">
            <input type="text" class="ispi-input-1" name="nome" placeholder="Nome de usuário, primeiro e último" required><br>
            <input type="email" class="ispi-input-1" name="email" placeholder="E-mail" required><br>
            <input type="password" class="ispi-input-1" id="senha" name="senha" placeholder="Senha" required minlength="6"><br>
            <input type="password" class="ispi-input-1" id="senha_confirmada" name="senha_confirmada" placeholder="Confirmar Senha" required minlength="6"><br>
            <p id="erroSenha" style="color: red; display: none;">As senhas não coincidem.</p>
            <button type="submit" class="ispi-button-1">Criar Conta</button>
        </form>
		<div class="ispi-link-1">
			<p>Já tem uma conta? <a href="login">Faça login</a></p>
		</div>
    </div>
	
    <!-- Incluir o banner de cookies -->
    <div th:replace="~{include/cookie-banner :: cookie-banner}"></div>
</body>
<script>
    function verificarSenhas() {
        const senha = document.getElementById("senha").value;
        const senhaConfirmada = document.getElementById("senha_confirmada").value;
        const erro = document.getElementById("erroSenha");

        if (senha !== senhaConfirmada) {
            erro.style.display = "block";
            return false;
        }
        erro.style.display = "none";
        return true;
    }
</script>
</html>
    